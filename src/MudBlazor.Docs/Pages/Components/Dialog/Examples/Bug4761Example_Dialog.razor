@namespace MudBlazor.Docs.Examples
@inject IDialogService DialogService
<MudDialog DefaultFocus="DefaultFocus.Element">
    <DialogContent>
        @if (Value==null) {
            <MudAlert Severity=Severity.Error>
                Fail Value is null @@ @Level
            </MudAlert>
        } else {
            <MudAlert Severity=Severity.Success>
                @Value @@ @Level
            </MudAlert>            
        }
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton Color="Color.Primary" OnClick="ShowNested">Next Level @(Level+1)</MudButton>
    </DialogActions>
</MudDialog>
@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }
    [Parameter] public string Value { get; set; }
    [Parameter] public int Level { get; set; }
    Task ShowNested() => ShowNested(DialogService, Level + 1);
    public static async Task ShowNested(IDialogService DialogService, int level)
    {
        var value = $"hello level {level}";
        await DialogService.Show<Bug4761Example_Dialog>(
            title: $"Nested Dialog {level}"
            , options: new DialogOptions
                {
                    CloseOnEscapeKey = true,
                }
            , parameters: new DialogParameters
                {
                    [nameof(Level)] = level,
                    [nameof(Value)] = value,
                }
        ).Result;
    }
    void Cancel() => MudDialog.Cancel();
}